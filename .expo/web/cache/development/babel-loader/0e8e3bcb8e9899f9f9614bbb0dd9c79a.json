{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport axios from \"axios\";\nimport { CURRENCY_DETAILS_FAIL, CURRENCY_DETAILS_REQUEST, CURRENCY_DETAILS_SUCCESS, CURRENCY_LIST_FAIL, CURRENCY_LIST_REQUEST, CURRENCY_LIST_SUCCESS } from \"../constants/constants\";\nexport var listCurrencies = function listCurrencies() {\n  return function _callee(dispatch) {\n    var _await$axios$get, data;\n\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            dispatch({\n              type: CURRENCY_LIST_REQUEST\n            });\n            _context.next = 4;\n            return _regeneratorRuntime.awrap(axios.get(\"https://api.coingecko.com/api/v3/coins\"));\n\n          case 4:\n            _await$axios$get = _context.sent;\n            data = _await$axios$get.data;\n            dispatch({\n              type: CURRENCY_LIST_SUCCESS,\n              payload: data\n            });\n            _context.next = 12;\n            break;\n\n          case 9:\n            _context.prev = 9;\n            _context.t0 = _context[\"catch\"](0);\n            dispatch({\n              type: CURRENCY_LIST_FAIL,\n              payload: _context.t0.message\n            });\n\n          case 12:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 9]], Promise);\n  };\n};\nexport var currencyDetail = function currencyDetail(id) {\n  return function _callee2(dispatch) {\n    var _await$axios$get2, data;\n\n    return _regeneratorRuntime.async(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            dispatch({\n              type: CURRENCY_DETAILS_REQUEST\n            });\n            _context2.next = 4;\n            return _regeneratorRuntime.awrap(axios.get(\"https://api.coincap.io/v2/assets/\" + id + \"/history?interval=h2&start=\" + (Date.now() - 43200000) + \"&end=\" + Date.now()));\n\n          case 4:\n            _await$axios$get2 = _context2.sent;\n            data = _await$axios$get2.data;\n            dispatch({\n              type: CURRENCY_DETAILS_SUCCESS,\n              payload: data.data\n            });\n            _context2.next = 12;\n            break;\n\n          case 9:\n            _context2.prev = 9;\n            _context2.t0 = _context2[\"catch\"](0);\n            dispatch({\n              type: CURRENCY_DETAILS_FAIL,\n              payload: _context2.t0\n            });\n\n          case 12:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[0, 9]], Promise);\n  };\n};","map":{"version":3,"sources":["D:/react native/crypto_currency/actions/currencyActions.js"],"names":["axios","CURRENCY_DETAILS_FAIL","CURRENCY_DETAILS_REQUEST","CURRENCY_DETAILS_SUCCESS","CURRENCY_LIST_FAIL","CURRENCY_LIST_REQUEST","CURRENCY_LIST_SUCCESS","listCurrencies","dispatch","type","get","data","payload","message","currencyDetail","id","Date","now"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SACEC,qBADF,EAEEC,wBAFF,EAGEC,wBAHF,EAIEC,kBAJF,EAKEC,qBALF,EAMEC,qBANF;AASA,OAAO,IAAMC,cAAc,GAAG,SAAjBA,cAAiB;AAAA,SAAM,iBAAOC,QAAP;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAEhCA,YAAAA,QAAQ,CAAC;AAAEC,cAAAA,IAAI,EAAEJ;AAAR,aAAD,CAAR;AAFgC;AAAA,6CAITL,KAAK,CAACU,GAAN,CAAU,wCAAV,CAJS;;AAAA;AAAA;AAIxBC,YAAAA,IAJwB,oBAIxBA,IAJwB;AAMhCH,YAAAA,QAAQ,CAAC;AAAEC,cAAAA,IAAI,EAAEH,qBAAR;AAA+BM,cAAAA,OAAO,EAAED;AAAxC,aAAD,CAAR;AANgC;AAAA;;AAAA;AAAA;AAAA;AAQhCH,YAAAA,QAAQ,CAAC;AAAEC,cAAAA,IAAI,EAAEL,kBAAR;AAA4BQ,cAAAA,OAAO,EAAE,YAAMC;AAA3C,aAAD,CAAR;;AARgC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAN;AAAA,CAAvB;AAWP,OAAO,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAACC,EAAD;AAAA,SAAQ,kBAAOP,QAAP;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAElCA,YAAAA,QAAQ,CAAC;AAAEC,cAAAA,IAAI,EAAEP;AAAR,aAAD,CAAR;AAFkC;AAAA,6CAGXF,KAAK,CAACU,GAAN,uCACeK,EADf,oCAC+CC,IAAI,CAACC,GAAL,KAAW,QAD1D,cAC2ED,IAAI,CAACC,GAAL,EAD3E,CAHW;;AAAA;AAAA;AAG1BN,YAAAA,IAH0B,qBAG1BA,IAH0B;AAOlCH,YAAAA,QAAQ,CAAC;AACPC,cAAAA,IAAI,EAAEN,wBADC;AAEPS,cAAAA,OAAO,EAAED,IAAI,CAACA;AAFP,aAAD,CAAR;AAPkC;AAAA;;AAAA;AAAA;AAAA;AAYlCH,YAAAA,QAAQ,CAAC;AACPC,cAAAA,IAAI,EAAER,qBADC;AAEPW,cAAAA,OAAO;AAFA,aAAD,CAAR;;AAZkC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAR;AAAA,CAAvB","sourcesContent":["import axios from \"axios\";\r\nimport {\r\n  CURRENCY_DETAILS_FAIL,\r\n  CURRENCY_DETAILS_REQUEST,\r\n  CURRENCY_DETAILS_SUCCESS,\r\n  CURRENCY_LIST_FAIL,\r\n  CURRENCY_LIST_REQUEST,\r\n  CURRENCY_LIST_SUCCESS,\r\n} from \"../constants/constants\";\r\n\r\nexport const listCurrencies = () => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: CURRENCY_LIST_REQUEST });\r\n\r\n    const { data } = await axios.get(\"https://api.coingecko.com/api/v3/coins\");\r\n\r\n    dispatch({ type: CURRENCY_LIST_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    dispatch({ type: CURRENCY_LIST_FAIL, payload: error.message });\r\n  }\r\n};\r\nexport const currencyDetail = (id) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: CURRENCY_DETAILS_REQUEST });\r\n    const { data } = await axios.get(\r\n      `https://api.coincap.io/v2/assets/${id}/history?interval=h2&start=${Date.now()-43200000 }&end=${Date.now()}`\r\n    );\r\n\r\n    dispatch({\r\n      type: CURRENCY_DETAILS_SUCCESS,\r\n      payload: data.data,\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: CURRENCY_DETAILS_FAIL,\r\n      payload: error,\r\n    });\r\n  }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}